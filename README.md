In this project, I have created an app with multiple flavors (paid and free version with ads) that uses multiple libraries and Google Cloud Endpoints. 
The finished app  consist of four modules:
A Java library that provides jokes, a Google Cloud Endpoints (GCE) project that serves those jokes.
An Android Library with activity.
An activity for displaying jokes.
An Android app that fetches jokes from the GCE module and passes them to the Android Library for display.
